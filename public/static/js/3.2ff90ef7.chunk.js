(this.webpackJsonpstardui=this.webpackJsonpstardui||[]).push([[3],{144:function(t,e,c){"use strict";c.d(e,"c",(function(){return l})),c.d(e,"e",(function(){return j})),c.d(e,"d",(function(){return d})),c.d(e,"a",(function(){return b})),c.d(e,"b",(function(){return h}));var n=c(7),r=c.n(n),a=c(15),s=c(13),i=c(5),o=c(32),u=Object(s.c)(),l=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e){var c,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.get("".concat(s.b.getProducts,"/?page=1&limit=").concat(8));case 3:c=t.sent,n=Math.ceil(c.total/8),e(Object(o.b)(!1)),c.err?e(Object(o.a)(c)):e(O(c.products,c.total,8,n)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(){var e=Object(a.a)(r.a.mark((function e(c){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("".concat(s.b.getProducts,"/?page=").concat(t,"&limit=").concat(8));case 3:n=e.sent,a=Math.ceil(n.total/8),c(Object(o.b)(!1)),n.err?c(Object(o.a)(n)):c(O(n.products,n.total,8,a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(c){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("".concat(s.b.getProducts,"/").concat(t));case 3:n=e.sent,c(Object(o.b)(!1)),n.err?c(Object(o.a)(n)):(delete n.user,c(f(n))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},b=function(){var t=Object(a.a)(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.get("".concat(s.b.getProducts,"/latest"));case 3:return e=t.sent,t.abrupt("return",e);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{type:i.a.PRODUCT_GET,payload:{data:t,total:e,limit:c,pagesNumber:n}}},f=function(t){return{type:i.a.PRODUCT_GET_DETAILS,payload:t}},h=function(t){return{type:i.a.CURRENT_PAGE,payload:t}}},154:function(t,e,c){},155:function(t,e,c){},161:function(t,e,c){"use strict";c.r(e);var n=c(0),r=c(4),a=c(6),s=c(8),i=c(144),o=c(3),u=c(66),l=c(57),j=c(1);var d=function(t){var e=t.img,c=t.name;return Object(j.jsx)("img",{src:e,alt:c,loading:"lazy",className:"img-fluid shadow-2-strong rounded w-75"})},b=c(22),O=c(33),f=c(7),h=c.n(f),x=c(15),p=c(29),v=function(t,e){var c=Object(a.b)(),r=Object(n.useState)(!1),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(n.useState)(null),l=Object(b.a)(u,2),j=l[0],d=l[1],O=Object(n.useState)(!1),f=Object(b.a)(O,2),v=f[0],m=f[1],g=Object(a.c)((function(t){return t.products})).detailsData,w=Object(a.c)((function(t){return t.shoppingCart})).total,N=Object(a.c)((function(t){return t.auth})).uid;Object(n.useEffect)((function(){d(g)}),[g]),Object(n.useEffect)((function(){k()}),[j]);var k=function(){var t=Object(x.a)(h.a.mark((function t(){var e,c,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===j||!N){t.next=7;break}return e=j._id,t.next=4,Object(p.f)(e,N);case 4:c=t.sent,n=c.exist,m(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{loadingAction:i,productExist:v,onAction:function(){i||(v?N&&(o(!0),c(Object(p.d)(g._id,N)),c(Object(p.a)(w-1)),m(!1),o(!1)):N?(o(!0),c(Object(p.b)({userId:N,productId:g._id,quantity:1,size:e})),c(Object(p.a)(w+1)),m(!0),o(!1)):t(!0))}}},m=c(58),g=c(63),w=c(64),N=c(65);c(154);var k=function(t){var e=t.showModal,c=t.setShowModal,n=t.toggleShow;return Object(j.jsx)(o.u,{show:e,setShow:c,tabIndex:"-1",onClick:n,children:Object(j.jsx)(o.x,{onClick:function(t){return t.stopPropagation()},children:Object(j.jsxs)(o.w,{children:[Object(j.jsxs)(o.y,{children:[Object(j.jsx)(o.z,{children:"Account"}),Object(j.jsx)(o.b,{className:"btn-close",color:"none",onClick:n})]}),Object(j.jsx)(o.v,{children:Object(j.jsxs)("section",{className:"auth-modal",children:[Object(j.jsxs)("div",{className:"auth-modal-info",children:[Object(j.jsx)("h5",{children:"Start now"}),Object(j.jsx)("img",{src:m.a,alt:"stardui - logo",className:"auth-modal-img"})]}),Object(j.jsx)("div",{children:Object(j.jsx)(g.a,{children:Object(j.jsxs)("div",{className:"auth-modal-btn",children:[Object(j.jsx)(w.a,{}),Object(j.jsx)(N.a,{})]})})})]})})]})})})};var y=function(t){var e=t.size,c=Object(n.useState)(!1),r=Object(b.a)(c,2),a=r[0],s=r[1],i=v(s,e),u=i.loadingAction,l=i.productExist,d=i.onAction;return Object(j.jsxs)("div",{children:[Object(j.jsx)(k,{showModal:a,setShowModal:s,toggleShow:function(){return s(!a)}}),Object(j.jsx)(o.b,{size:"sm",disabled:u,rounded:!0,outline:!0,color:l?"danger":"dark",onClick:d,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(o.q,{fas:!0,icon:l?"minus":"cart-plus",className:"me-2"}),l?"Remover del carrito":"A\xf1adir al carrito"]})})]})};var S=function(t){var e=t.name,c=t.description,r=t.category,a=t.price,s=t.size,i=Object(n.useState)(null),u=Object(b.a)(i,2),l=u[0],d=u[1];return Object(n.useEffect)((function(){s&&d(s[0])}),[s]),Object(j.jsxs)("section",{className:"mt-5",children:[Object(j.jsxs)("div",{className:"d-flex align-items-center",children:[Object(j.jsx)("h3",{style:{margin:"0"},children:e}),Object(j.jsx)(o.a,{className:"mx-2",color:"dark",children:null===r||void 0===r?void 0:r.name})]}),Object(j.jsxs)("div",{className:"mt-4",children:[Object(j.jsx)("p",{className:"max-size-text",children:c}),Object(j.jsx)("h5",{children:"Price:"}),Object(j.jsx)("p",{className:"fw-bold fs-4",children:O.a.format(a)}),Object(j.jsxs)("div",{children:[Object(j.jsx)("small",{children:"Tama\xf1o"}),Object(j.jsx)("select",{className:"form-select",value:l||"",onChange:function(t){return d(t.target.value)},children:null===s||void 0===s?void 0:s.map((function(t){return Object(j.jsx)("option",{value:t,children:t},t)}))})]}),Object(j.jsx)("hr",{}),Object(j.jsx)(y,{size:l})]})]})};c(155);var E=function(){var t=Object(a.b)(),e=Object(a.c)((function(t){return t.products})),c=e.detailsData,b=e.isLoading,O=Object(s.h)().pathname;return Object(n.useEffect)((function(){var e=O.slice(3);t(Object(i.d)(e.toString()))}),[O]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(o.o,{className:"mt-5 mb-5",children:[Object(j.jsx)("div",{className:"pad-abs-btn"}),Object(j.jsx)(o.G,{children:b?Object(j.jsx)(l.a,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("article",{className:"col-lg-6 d-flex justify-content-center",children:Object(j.jsx)(d,{img:null===c||void 0===c?void 0:c.img})}),Object(j.jsxs)("article",{className:"col-lg-6",children:[Object(j.jsx)(S,Object(r.a)({},c)),Object(j.jsx)("div",{className:"back-btn-position",children:Object(j.jsx)(u.a,{})})]})]})})]})})},C=c(47);e.default=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(C.e,{}),Object(j.jsx)(E,{}),Object(j.jsx)(C.c,{})]})}}}]);
//# sourceMappingURL=3.2ff90ef7.chunk.js.map